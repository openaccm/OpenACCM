const a0_0x4b2bb0=a0_0x2be5;function a0_0x2be5(_0x1e20d0,_0x16aa17){const _0x2b7967=a0_0x2b79();return a0_0x2be5=function(_0x2be553,_0x167245){_0x2be553=_0x2be553-0x68;let _0x539b72=_0x2b7967[_0x2be553];return _0x539b72;},a0_0x2be5(_0x1e20d0,_0x16aa17);}(function(_0xbdb4f9,_0x2f72b4){const _0x3e9983=a0_0x2be5,_0x3344b0=_0xbdb4f9();while(!![]){try{const _0x1e1315=-parseInt(_0x3e9983(0x85))/0x1*(-parseInt(_0x3e9983(0x86))/0x2)+parseInt(_0x3e9983(0x68))/0x3+-parseInt(_0x3e9983(0x6f))/0x4+-parseInt(_0x3e9983(0x8c))/0x5*(parseInt(_0x3e9983(0x87))/0x6)+parseInt(_0x3e9983(0x6a))/0x7*(-parseInt(_0x3e9983(0x83))/0x8)+-parseInt(_0x3e9983(0x81))/0x9+-parseInt(_0x3e9983(0x91))/0xa*(-parseInt(_0x3e9983(0x88))/0xb);if(_0x1e1315===_0x2f72b4)break;else _0x3344b0['push'](_0x3344b0['shift']());}catch(_0x129a42){_0x3344b0['push'](_0x3344b0['shift']());}}}(a0_0x2b79,0x97d6a),odoo[a0_0x4b2bb0(0x8f)]('mana_dashboard.field_statistics',function(require){'use strict';const _0x3c0d6d=a0_0x4b2bb0;const _0x1f4100=require('mana_dashboard.block_registry'),_0x75abd=require('mana_dashboard.icons'),_0x42de92=require('web.core'),_0x317dd6=_0x42de92[_0x3c0d6d(0x95)],_0xfa2bf6=require('mana_dashboard.block_base'),_0x200eb6=_0xfa2bf6[_0x3c0d6d(0x8e)],_0x414d05=_0xfa2bf6[_0x3c0d6d(0x72)],_0x4435d9=_0x42de92['_t'];function _0x12cde2(_0x28ba90,_0x155773){const _0x6ffbe8=_0x3c0d6d,_0x489174=_0x28ba90[_0x6ffbe8(0x90)];_0x28ba90[_0x6ffbe8(0x69)][_0x6ffbe8(0x7c)]('field_statistics',{'label':_0x4435d9('Field Statistics'),'category':_0x4435d9('Statistics'),'select':!![],'render':()=>{const _0xa51f9c=_0x6ffbe8;return _0xa51f9c(0x93)+_0x75abd['statistics']+_0xa51f9c(0x8d);},'content':{'type':'field_statistics'}}),_0x489174[_0x6ffbe8(0x89)]('field_statistics',{'model':_0x200eb6[_0x6ffbe8(0x94)]({'defaults':{..._0x200eb6['prototype']['defaults'],'name':_0x4435d9('Field Statistics'),'classes':['field_statistics'],'attributes':{},'traits':[{'name':'res_model_id','type':'many2one','res_model':'ir.model'},{'name':'field_id','type':'many2one','res_model':'ir.model.fields','domain':[]},{'name':'statistics','type':'select','options':[{'value':'count','name':'Count'},{'value':'sum','name':'Sum'},{'value':'avg','name':'Average'},{'value':'min','name':'Min'},{'value':'max','name':'Max'}]},{'name':'template','type':'text','changeProp':0x1}]},'initialize'(){const _0x1135c0=_0x6ffbe8;_0x200eb6[_0x1135c0(0x75)][_0x1135c0(0x74)]['apply'](this,arguments);let _0x4cc644=this['get']('attributes')['res_model_id'];_0x4cc644&&this[_0x1135c0(0x7d)]('field_id')['set']('domain',[['model_id','=',_0x4cc644]]);},'get_custom_props'(){const _0x50b401=_0x6ffbe8;return{'template':this[_0x50b401(0x8a)]('template')};},'parse_custom_props'(_0x486aa3){const _0x14396e=_0x6ffbe8;_0x486aa3=JSON['parse'](_0x486aa3||'{}'),this[_0x14396e(0x6b)]('template',_0x486aa3[_0x14396e(0x79)]);}},{'isComponent':_0x23a249=>{const _0x75de14=_0x6ffbe8;if(_0x23a249&&_0x23a249[_0x75de14(0x7a)]&&_0x23a249['classList'][_0x75de14(0x78)]('field_statistics'))return{'type':'field_statistics'};}}),'view':_0x414d05[_0x6ffbe8(0x94)]({'tagName':'span','events':{},'init'(){const _0xf29d55=_0x6ffbe8;_0x414d05[_0xf29d55(0x75)][_0xf29d55(0x6c)][_0xf29d55(0x7e)](this,arguments),this[_0xf29d55(0x70)](this[_0xf29d55(0x77)],'change:attributes:res_model_id',this['_onchange_res_model_id']),this[_0xf29d55(0x70)](this[_0xf29d55(0x77)],'change:attributes:field_id',this[_0xf29d55(0x71)]),this[_0xf29d55(0x70)](this[_0xf29d55(0x77)],'change:attributes:statistics',this['_onchange_config']),this[_0xf29d55(0x70)](this[_0xf29d55(0x77)],'change:template',this['_onchange_template']),this['listenTo'](this['model'],'change:val',this[_0xf29d55(0x8b)]),this['_onchange_config'](![]);},'_onchange_template'(){const _0x86a0ac=_0x6ffbe8;this[_0x86a0ac(0x77)][_0x86a0ac(0x92)](),this['render']();},'_onchange_res_model_id'(){const _0x562281=_0x6ffbe8;let _0x5ed6e7=this['model'][_0x562281(0x8a)]('attributes')[_0x562281(0x7f)],_0x2a5934=this[_0x562281(0x77)][_0x562281(0x8a)]('attributes')[_0x562281(0x6e)];_0x5ed6e7?this['model'][_0x562281(0x7d)]('field_id')[_0x562281(0x6b)]('domain',[['model_id','=',_0x5ed6e7]]):this[_0x562281(0x77)][_0x562281(0x7d)]('field_id')['set']('domain',[['model_id','=',0x0]]),this[_0x562281(0x77)][_0x562281(0x82)]({'field_id':null}),_0x2a5934&&_0x5ed6e7&&this['_onchange_config']();},'_onchange_config'(_0x538388=!![]){const _0x1a64c8=_0x6ffbe8;let _0x332fee=this[_0x1a64c8(0x77)][_0x1a64c8(0x8a)]('attributes')['res_model_id'],_0x58f357=this[_0x1a64c8(0x77)][_0x1a64c8(0x8a)]('attributes')[_0x1a64c8(0x6e)],_0x51b20d=this[_0x1a64c8(0x77)][_0x1a64c8(0x8a)]('attributes')[_0x1a64c8(0x80)];if(_0x332fee&&_0x58f357&&_0x51b20d){_0x538388&&this['model'][_0x1a64c8(0x92)]();let _0x4089c0=this[_0x1a64c8(0x7b)]();_0x4089c0[_0x1a64c8(0x76)]({'model':'mana_dashboard.dashboard','method':'get_model_field_statistics','args':[_0x332fee,_0x58f357,_0x51b20d]})['then'](_0x13fe04=>{const _0x358b40=_0x1a64c8;this[_0x358b40(0x77)]['set']('val',_0x13fe04);});}},'render'(..._0x76666a){const _0x5323ad=_0x6ffbe8;_0x414d05[_0x5323ad(0x75)][_0x5323ad(0x8b)]['apply'](this,_0x76666a);let _0x2672a3=this['model'][_0x5323ad(0x8a)]('val'),_0x5a65f8=this[_0x5323ad(0x77)][_0x5323ad(0x8a)]('template');if(_0x2672a3){this[_0x5323ad(0x84)]();let _0xefc835=_0x317dd6[_0x5323ad(0x8b)](this[_0x5323ad(0x73)](),{'val':_0x2672a3,'view':this});this['el'][_0x5323ad(0x6d)]=_0xefc835;}else this['el'][_0x5323ad(0x6d)]='null';return this;}})});}return _0x1f4100[_0x3c0d6d(0x7c)]('field_statistics',_0x12cde2),_0x12cde2;}));function a0_0x2b79(){const _0x15fb5a=['prototype','_rpc','model','contains','template','classList','get_widget','add','getTrait','apply','res_model_id','statistics','4923081ahNPEo','addAttributes','1384KGdtRc','update_template','7697NQFksz','82lPmEwP','4146dRIiFB','319VMVQQx','addType','get','render','5910WPhiWb','</div><div\x20class=\x27anita-block-label\x27>Field\x20Statistics</div></div>','BaseModel','define','DomComponents','779390xekSJX','save_config','<div\x20class=\x22d-flex\x20flex-column\x20align-items-center\x20justify-content-center\x22><div\x20class=\x22chart-icon\x22>','extend','qweb','1484883BtgRrq','BlockManager','43785KVbsBG','set','init','innerHTML','field_id','11812tYLiWX','listenTo','_onchange_config','BaseView','get_template_id','initialize'];a0_0x2b79=function(){return _0x15fb5a;};return a0_0x2b79();}